<div>
  <div class="panel panel-default alert alert-danger" ng-if="alert.type=='AVAILABILITY'">
    <div class="hk-alert-icon">
      <i class="fa fa-flag"></i>
    </div>
    <div class="hk-date">
      {{alert.start | date:'medium' }}
    </div>
    <div class="hk-event">
      Server <strong>down</strong> for {{(alert.end - alert.start)/1000 | number: 0}} seconds (until
      <span ng-if="alert.isThisYear && alert.isToday">{{alert.end | date:'shortTime' }}).</span>
      <span ng-if="alert.isThisYear && !alert.isToday">{{alert.end | date:'MMM d, h:mm:ss a' }}).</span>
      <span ng-if="!alert.isThisYear">{{alert.end | date:'medium' }}).</span>
    </div>

    <div class="alert-resolver">
      <a ng-click="alertResolve(alert, $index)" tooltip="Mark as resolved"
         tooltip-placement="top"
         tooltip-trigger="mouseenter"
         tooltip-popup-delay="500">
        <i class="fa" ng-class="{'fa-check-square-o': hover, 'fa-square-o': !hover}"
           ng-mouseenter="hover = true"
           ng-mouseleave="hover = false">
        </i>
      </a>
    </div>
  </div>

  <div class="panel panel-default alert alert-danger" ng-if="alert.type=='THRESHOLD'">
    <div class="hk-alert-icon">
      <i class="fa fa-flag"></i>
    </div>
    <div class="hk-date">
      {{alert.start | date:'medium' }}
    </div>
    <div class="hk-event">
      <strong>Response time</strong> was above the threshold ({{alert.threshold | number: 0}} ms) for {{(alert.end - alert.start) / 1000.0 | number: 0}} seconds (until
      <span ng-if="alert.isThisYear && alert.isToday">{{alert.end | date:'shortTime' }}).</span>
      <span ng-if="alert.isThisYear && !alert.isToday">{{alert.end | date:'MMM d, h:mm:ss a' }}).</span>
      <span ng-if="!alert.isThisYear">{{alert.end | date:'medium' }}).</span>
      The average response time was {{alert.avg  | number: 0}} ms.
    </div>

    <div class="alert-resolver">
      <a ng-click="alertResolve()" tooltip="Mark as resolved"
         tooltip-placement="top"
         tooltip-trigger="mouseenter"
         tooltip-popup-delay="500">
        <i class="fa" ng-class="{'fa-check-square-o': hover, 'fa-square-o': !hover}"
           ng-mouseenter="hover = true"
           ng-mouseleave="hover = false">
        </i>
      </a>
    </div>
  </div>
</div>